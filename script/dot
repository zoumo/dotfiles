#!/bin/bash
#
# dot
#
# `dot` handles installation, updates, things like that. Run it periodically
# to make sure you're on the latest and greatest.

set -e

ROOT_PATH="$(dirname $(dirname ${BASH_SOURCE}))"
source $ROOT_PATH/lib/lib.sh

cd $ROOT_PATH

info "preparing the operating system"
sh $HOME/.dotfiles/os/install.sh
success "The operating system is ready"

# Set up python env
info "python installing"
sh $HOME/.dotfiles/python/install.sh
success "python install"

installers=$(find_installer | tr " " "\n")
for installer in $installers
do
    if [[ $installer == "os" || $installer == "python" ]]; then
        # skip os and python
        continue
    fi
    info "$installer installing"
    sh $HOME/.dotfiles/$installer/install.sh
    success "$installer installed"
done

cd -
